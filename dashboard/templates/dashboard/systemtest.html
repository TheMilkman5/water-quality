{% load staticfiles %}

<!DOCTYPE html>
<html>
<head>
<title>Smart sensors</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="{% static "dashboard/css/w3.css" %}">
<link rel="stylesheet" href="{% static "dashboard/css/font-awesome.min.css" %}">

<style>
body {
  background-image: url("{% static "dashboard/water.jpg" %}");
  background-size: 1600px 900px;
/*  background-repeat: no-repeat;*/
}
</style>
</head>
<body>
  <div class="w3-bar w3-black">
    <a href="/dashboard/home/" class="w3-bar-item w3-button">
      <i class="fa fa-dashboard"></i> Dashboard
    </a>
    <a href="/dashboard/history/" class="w3-bar-item w3-button">
      <i class="fa fa-history"></i> History
    </a>
    <a href="/dashboard/systemtest/" class="w3-bar-item w3-button w3-grey">
      <i class="fa fa-check"></i> System test
    </a>
    <a href="#" class="w3-bar-item w3-button w3-right">
      <div id="Date"></div>
    </a>
  </div>
  <div id="isConnecting_div" >
    <div class="w3-panel w3-grey">
      <h6>Connecting...</h6>
    </div>
  </div>
  <div id="isConnected_div" style="display: none">
    <div class="w3-panel w3-green" >
      <h6>Connnected!</h6>
    </div>
  </div>
  <div id="isClientDisconnected_div" style="display: none">
    <div class="w3-panel w3-red">
      <h6>Disconnnected!</h6>
    </div>
  </div>
  <div id="isServerDisconnected_div" style="display: none">
    <div class="w3-panel w3-red">
      <h6>Connect server ZigBee module!</h6>
    </div>
  </div>
  <div class="w3-container w3-margin">
    <div class="w3-row">
      <div class="w3-third w3-container ">
        <div class="w3-card-4">
          <header class="w3-container w3-dark-gray">
            <h3>Latency Test</h3>
          </header>
            <div class="w3-container w3-light-gray">
             <h6>Time measured in ms (since 1. Jan.)</h6>
			  <table class="w3-table-all">
			    <tr>
			      <td><h5>Time request sent: </h5></td>
			      <td><h5 id="time_sent"></h5></td>
			    </tr>
			    <tr>
			      <td><h5>Time data received: </h5></td>
			      <td><h5 id="time_received"></h5></td>
			    </tr>
			    <tr>
			      <td><h5>Time difference: </h5></td>
			      <td><h5 id="time_diff"></h5></td>
			    </tr>
			  </table>
	          <p>
	            <button class="w3-button w3-border w3-border-black w3-round-large w3-text-black w3-hover-black" onclick="latency_test()">Start</button>
	          </p>
            </div>
          <footer class="w3-container w3-gray">
            <h5>Sensor Data:</h5>
            <h5 id="rawdata"></h5>
          </footer>
        </div>
      </div>
      <div class="w3-third w3-container ">
        <div class="w3-card-4">
          <header class="w3-container w3-dark-gray">
            <h3>E-mail Test</h3>
          </header>
          <div class="w3-container w3-light-gray">
            <p>
              <button class="w3-button w3-border w3-border-blue w3-round-large w3-text-blue w3-hover-blue" onclick="request_testemail()">Send Test E-mail</button>
            </p>
          </div>
          <footer class="w3-container w3-gray">
            <h5>-</h5>
          </footer>
        </div>
      </div>
    </div>
  </div>
  <script src="{% static "dashboard/jquery.min.js" %}"></script>
  <script src="{% static "dashboard/request_data.js" %}"></script>
</body>
</html> 
